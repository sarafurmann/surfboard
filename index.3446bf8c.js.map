{"mappings":"AAAA,MAAMA,eAAc,CAAIC,EAAMC,KAC1BA,EAAYC,SAASC,IACnBA,EAAMC,YAAY,gBACS,KAAvBD,EAAME,MAAMC,QACdH,EAAMI,SAAS,mBAKnB,OAA8B,IADVP,EAAKQ,KAAK,iBACXC,QAGrBC,EAAE,SAASC,QAAQC,IACjBA,EAAEC,iBAEF,MAAMb,EAAOU,EAAEE,EAAEE,eACXC,EAAOf,EAAKQ,KAAK,iBACjBQ,EAAQhB,EAAKQ,KAAK,kBAClBS,EAAUjB,EAAKQ,KAAK,oBACpBU,EAAKlB,EAAKQ,KAAK,eAGfW,EADQT,EAAE,UACMF,KAAK,mBAI3B,GAFgBT,eAAeC,EAAM,CAACe,EAAMC,EAAOC,EAASC,IAE/C,CACX,MAAME,EAAUV,EAAEW,KAAK,CACrBC,IAAK,6CACLC,OAAQ,OACRC,KAAM,CACJT,KAAMA,EAAKV,MACXW,MAAOA,EAAMX,MACbY,QAASA,EAAQZ,MACjBa,GAAIA,EAAGb,SAGXe,EAAQK,MAAMD,IACZL,EAAQO,KAAKF,EAAKL,YAEpBC,EAAQO,MAAMH,IACZL,EAAQO,KAAKF,EAAKI,aAAaT,YAEjCC,EAAQS,QAAM,KACZnB,EAAEoB,SAASC,KAAK,CACd,CACEC,IAAK,SACLC,KAAM,mBAMhBvB,EAAE,kBAAkBwB,OAAOtB,IACzBA,EAAEC,iBACFH,EAAEoB,SAASK","sources":["src/js/modal.js"],"sourcesContent":["const validateFields = (form, fieldsArray) => {\n    fieldsArray.forEach((field) => {\n      field.removeClass('input__error')\n      if (field.val().trim() === '') {\n        field.addClass('input__error')\n      }\n    })\n  \n    const errorFields = form.find('.input__error')\n    return errorFields.length === 0\n  }\n  \n  $('.form').submit((e) => {\n    e.preventDefault()\n  \n    const form = $(e.currentTarget)\n    const name = form.find(\"[name='name']\")\n    const phone = form.find(\"[name='phone']\")\n    const comment = form.find(\"[name='comment']\")\n    const to = form.find(\"[name='to']\")\n  \n    const modal = $('#modal')\n    const message = modal.find('.modal__message')\n  \n    const isValid = validateFields(form, [name, phone, comment, to])\n  \n    if (isValid) {\n      const request = $.ajax({\n        url: \"https://webdev-api.loftschool.com/sendmail\",\n        method: 'post',\n        data: {\n          name: name.val(),\n          phone: phone.val(),\n          comment: comment.val(),\n          to: to.val(),\n        },\n      })\n      request.done((data) => {\n        message.text(data.message)\n      })\n      request.fail((data) => {\n        message.text(data.responseJSON.message)\n      })\n      request.always(() => {\n        $.fancybox.open([\n          {\n            src: '#modal',\n            type: 'inline',\n          },\n        ])\n      })\n    }\n  })\n  $('.app-close-btn').click((e) => {\n    e.preventDefault()\n    $.fancybox.close()\n  })"],"names":["validateFields","form","fieldsArray","forEach","field","removeClass","val","trim","addClass","find","length","$","submit","e","preventDefault","currentTarget","name","phone","comment","to","message","request","ajax","url","method","data","done","text","fail","responseJSON","always","fancybox","open","src","type","click","close"],"version":3,"file":"index.3446bf8c.js.map"}